(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{116:function(e,t,r){},117:function(e,t,r){},140:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r(33),a=r.n(n),s=r(8),i=r(41),o=r(16),d=Object(o.b)({name:"products",initialState:{products:[],loading:!1,error:"",page:"",pages:""},reducers:{productFetchingStart:function(e){e.loading=!0},productFetchingSuccess:function(e,t){e.loading=!1,e.products=t.payload.products,e.page=t.payload.page,e.pages=t.payload.pages},productFetchingFailed:function(e,t){e.loading=!1,e.error=t.payload}}}),l=Object(o.b)({name:"product",initialState:{product:{},loading:!1,error:""},reducers:{singleProductFetchingStart:function(e){e.loading=!0},singleProductFetchingSuccess:function(e,t){e.loading=!1,e.product=t.payload},singleProductFetchingFailed:function(e,t){e.loading=!1,e.error=t.payload}}}),j=Object(o.b)({name:"productReview",initialState:{loading:!1,error:"",success:!1},reducers:{create_product_review_request:function(e){e.loading=!0},create_product_review_success:function(e,t){e.loading=!1,e.success=!0},create_product_review_failed:function(e,t){e.loading=!1,e.success=!1,e.error=t.payload},create_product_review_reset:function(e){e.loading=!1,e.success=!1,e.error=""}}}),u=Object(o.b)({name:"topProduct",initialState:{products:[],loading:!1},reducers:{top_product_request:function(e,t){e.loading=!0},top_product_success:function(e,t){e.loading=!1,e.products=t.payload},top_product_failed:function(e,t){e.loading=!1,e.success=!1,e.error=t.payload}}}),b=d.actions,p=b.productFetchingStart,h=b.productFetchingSuccess,O=b.productFetchingFailed,x=l.actions,m=x.singleProductFetchingStart,f=x.singleProductFetchingSuccess,g=x.singleProductFetchingFailed,v=j.actions,_=v.create_product_review_request,y=v.create_product_review_success,I=v.create_product_review_failed,S=v.create_product_review_reset,k=u.actions,C=k.top_product_request,N=k.top_product_success,w=k.top_product_failed,P=d.reducer,L=l.reducer,A=j.reducer,E=u.reducer,D=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],q=localStorage.getItem("shipping")?JSON.parse(localStorage.getItem("shipping")):{},G=localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):"",T=Object(o.b)({name:"cart",initialState:{cartItems:D,shippingAddress:q,paymentMethod:G},reducers:{cart_add_item:function(e,t){var r=t.payload,c=e.cartItems.find((function(e){return e.product===r.product}));c?e.cartItems=e.cartItems.map((function(e){return e.product===c.product?r:e})):e.cartItems.push(r)},cart_remove_item:function(e,t){e.cartItems=e.cartItems.filter((function(e){return e.product!==t.payload}))},cart_save_shipping_address:function(e,t){e.shippingAddress=t.payload},cart_save_payment_method:function(e,t){e.paymentMethod=t.payload}}}),F=T.actions,B=F.cart_add_item,U=F.cart_remove_item,R=F.cart_save_shipping_address,M=F.cart_save_payment_method,z=T.reducer,$=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,J=Object(o.b)({name:"userLogin",initialState:{userInfo:$,loading:!1,error:""},reducers:{user_login_request:function(e){e.loading=!0},user_login_success:function(e,t){e.loading=!1,e.userInfo=t.payload},user_login_failed:function(e,t){e.loading=!1,e.error=t.payload},user_logout:function(e,t){e.userInfo=null}}}),W=Object(o.b)({name:"userRegister",initialState:{userInfo:$,loading:!1,error:""},reducers:{user_register_request:function(e){e.loading=!0},user_register_success:function(e,t){e.loading=!1,e.userInfo=t.payload},user_register_failed:function(e,t){e.loading=!1,e.error=t.payload}}}),H=Object(o.b)({name:"userProfile",initialState:{user:{},loading:!1,error:""},reducers:{user_details_request:function(e){e.loading=!0},user_details_success:function(e,t){e.loading=!1,e.user=t.payload},user_details_failed:function(e,t){e.loading=!1,e.error=t.payload},user_details_reset:function(e){e.user={}}}}),K=Object(o.b)({name:"userUpdateProfile",initialState:{userInfo:{},loading:!1,success:"",error:""},reducers:{user_profile_update_request:function(e){e.loading=!0},user_profile_update_success:function(e,t){e.loading=!1,e.userInfo=t.payload,e.success="Profile Successfully Updated!"},user_profile_update_failed:function(e,t){e.loading=!1,e.error=t.payload},user_profile_update_reset:function(e){e.userInfo={},e.success=""}}}),Y=J.actions,Q=Y.user_login_request,V=Y.user_login_success,X=Y.user_login_failed,Z=Y.user_logout,ee=W.actions,te=ee.user_register_success,re=ee.user_register_request,ce=ee.user_register_failed,ne=H.actions,ae=ne.user_details_request,se=ne.user_details_success,ie=ne.user_details_failed,oe=ne.user_details_reset,de=K.actions,le=de.user_profile_update_request,je=de.user_profile_update_success,ue=de.user_profile_update_failed,be=de.user_profile_update_reset,pe=J.reducer,he=W.reducer,Oe=H.reducer,xe=K.reducer,me=Object(o.b)({name:"order",initialState:{loading:!1,order:{}},reducers:{order_create_request:function(e){e.loading=!0},order_create_success:function(e,t){e.loading=!1,e.success=!0,e.order=t.payload},order_create_failed:function(e,t){e.error=t.payload}}}),fe=Object(o.b)({name:"orderDetail",initialState:{loading:!0,order:{},error:""},reducers:{order_details_request:function(e){e.loading=!0,e.order={},e.error=""},order_details_success:function(e,t){e.loading=!1,e.order=t.payload},order_details_failed:function(e,t){e.error=t.payload,e.loading=!1},order_details_reset:function(e){e.error="",e.order={}}}}),ge=Object(o.b)({name:"orderPayDetail",initialState:{loading:!1},reducers:{order_pay_request:function(e){e.loading=!0},order_pay_success:function(e,t){e.loading=!1,e.success=!0},order_pay_failed:function(e,t){e.error=t.payload,e.loading=!1},order_pay_rest:function(e,t){({})}}}),ve=Object(o.b)({name:"myorders",initialState:{loading:!1,orders:[]},reducers:{my_order_list_request:function(e){e.loading=!0},my_order_list_success:function(e,t){e.loading=!1,e.orders=t.payload},my_order_list_failed:function(e,t){e.error=t.payload},my_order_list_reset:function(e){e.orders=[]}}}),_e=me.actions,ye=_e.order_create_request,Ie=_e.order_create_success,Se=_e.order_create_failed,ke=fe.actions,Ce=ke.order_details_request,Ne=ke.order_details_success,we=ke.order_details_failed,Pe=(ke.order_details_reset,ge.actions),Le=Pe.order_pay_request,Ae=Pe.order_pay_success,Ee=Pe.order_pay_failed,De=(Pe.order_pay_rest,ve.actions),qe=De.my_order_list_request,Ge=De.my_order_list_success,Te=De.my_order_list_failed,Fe=De.my_order_list_reset,Be=me.reducer,Ue=fe.reducer,Re=ge.reducer,Me=ve.reducer,ze=Object(o.b)({name:"userslist",initialState:{users:[],loading:!1,success:"",error:""},reducers:{user_list_request:function(e){e.loading=!0},user_list_success:function(e,t){e.loading=!1,e.users=t.payload},user_list_failed:function(e,t){e.loading=!1,e.error=t.payload},user_list_rest:function(e){e.loading=!1,e.users=[]}}}),$e=Object(o.b)({name:"userDelete",initialState:{},reducers:{user_delete_request:function(e){e.loading=!0},user_delete_success:function(e,t){e.loading=!1,e.success=!0},user_delete_failed:function(e,t){e.loading=!1,e.error=t.payload}}}),Je=Object(o.b)({name:"userUpdate",initialState:{user:{}},reducers:{user_update_request:function(e){e.loading=!0},user_update_success:function(e,t){e.loading=!1,e.success=!0},user_update_failed:function(e,t){e.loading=!1,e.error=t.payload},user_update_rest:function(e){e.loading=!1,e.success=!1,e.user={}}}}),We=Object(o.b)({name:"deleteProduct",initialState:{},reducers:{product_delete_request:function(e){e.loading=!0},product_delete_success:function(e,t){e.loading=!1,e.success=!0},product_delete_failed:function(e,t){e.loading=!1,e.error=t.payload}}}),He=Object(o.b)({name:"createProduct",initialState:{product:{}},reducers:{product_create_request:function(e){e.loading=!0},product_create_success:function(e,t){e.loading=!1,e.success=!0,e.product=t.payload},product_create_failed:function(e,t){e.loading=!1,e.error=t.payload},product_create_reset:function(e){e.loading=!1,e.product={},e.success=!1,e.error=!1}}}),Ke=Object(o.b)({name:"userUpdate",initialState:{product:{},error:"",loading:!1,success:!1},reducers:{product_update_request:function(e){e.loading=!0},product_update_success:function(e,t){e.loading=!1,e.success=!0,e.product=t.payload},product_update_failed:function(e,t){e.loading=!1,e.error=t.payload},product_update_reset:function(e){e.loading=!1,e.product={},e.success=!1}}}),Ye=Object(o.b)({name:"getOrders",initialState:{orders:[]},reducers:{get_orders_request:function(e){e.loading=!0},get_orders_success:function(e,t){e.loading=!1,e.success=!0,e.orders=t.payload},get_orders_failed:function(e,t){e.loading=!1,e.error=t.payload},get_orders_reset:function(e){e.loading=!1,e.orders=[],e.success=!1}}}),Qe=Object(o.b)({name:"deliverOrders",initialState:{order:{}},reducers:{deliver_orders_request:function(e){e.loading=!0},deliver_orders_success:function(e,t){e.loading=!1,e.success=!0,e.order=t.payload},deliver_orders_failed:function(e,t){e.loading=!1,e.error=t.payload}}}),Ve=ze.actions,Xe=Ve.user_list_request,Ze=Ve.user_list_success,et=Ve.user_list_failed,tt=Ve.user_list_rest,rt=$e.actions,ct=rt.user_delete_request,nt=rt.user_delete_success,at=rt.user_delete_failed,st=Je.actions,it=st.user_update_request,ot=st.user_update_success,dt=st.user_update_failed,lt=st.user_update_rest,jt=We.actions,ut=jt.product_delete_request,bt=jt.product_delete_success,pt=jt.product_delete_failed,ht=He.actions,Ot=ht.product_create_request,xt=ht.product_create_success,mt=ht.product_create_failed,ft=ht.product_create_reset,gt=Ke.actions,vt=gt.product_update_request,_t=gt.product_update_success,yt=gt.product_update_failed,It=gt.product_update_reset,St=Ye.actions,kt=St.get_orders_request,Ct=St.get_orders_success,Nt=St.get_orders_failed,wt=(St.get_orders_reset,Qe.actions),Pt=wt.deliver_orders_request,Lt=wt.deliver_orders_success,At=wt.deliver_orders_failed,Et=ze.reducer,Dt=$e.reducer,qt=Je.reducer,Gt=We.reducer,Tt=He.reducer,Ft=Ke.reducer,Bt=Ye.reducer,Ut=Qe.reducer,Rt=Object(i.b)({productList:P,productReview:A,topRatedProduct:E,singleProduct:L,cart:z,userLogin:pe,userRegister:he,userProfile:Oe,userProfileUpdate:xe,orderCreate:Be,orderDetail:Ue,orderPay:Re,myOrderList:Me,userList:Et,deleteUser:Dt,userUpdate:qt,deleteProduct:Gt,createProduct:Tt,updateProduct:Ft,getOrders:Bt,deliverOrders:Ut}),Mt=Object(o.a)({reducer:Rt}),zt=(r(116),r(117),r(146)),$t=r(10),Jt=r(13),Wt=r(153),Ht=r(157),Kt=r(152),Yt=r(54),Qt=r.n(Yt),Vt=r(3),Xt=r(154),Zt=r(97),er=r(0),tr=function(){var e=Object(c.useState)(""),t=Object(Vt.a)(e,2),r=t[0],n=t[1],a=Object(Jt.f)();return Object(er.jsxs)(Xt.a,{onSubmit:function(e){e.preventDefault(),r.trim()?a("/search/".concat(r)):a("/")},style:{display:"flex",gap:"15px"},children:[Object(er.jsx)(Xt.a.Control,{type:"text",name:"q",onChange:function(e){return n(e.target.value)},placeholder:"Search Products...",className:"mr-sm-2 ml-sm-5"}),Object(er.jsx)(Zt.a,{type:"submit",variant:"outline-success",className:"p-2",children:"Search"})]})},rr=r(7),cr=r.n(rr),nr=r(12),ar=r(98),sr=r.n(ar).a.create({baseURL:"http://localhost:8080/api"}),ir=function(){var e=Object(nr.a)(cr.a.mark((function e(t,r,c){var n,a,s,i;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Q()),n={headers:{"Content-Type":"application/json"}},e.next=5,sr.post("/users/login",{email:r,password:c},n);case 5:a=e.sent,s=a.data,t(V(s)),localStorage.setItem("userInfo",JSON.stringify(s)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t(X(i));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r,c){return e.apply(this,arguments)}}(),or=function(){var e=Object(nr.a)(cr.a.mark((function e(t){return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),t(Z()),t(oe()),t(Fe()),t(tt());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dr=function(){var e=Object(nr.a)(cr.a.mark((function e(t,r,c,n){var a,s,i,o;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(re()),a={headers:{"Content-Type":"application/json"}},e.next=5,sr.post("/users/register",{name:r,email:c,password:n},a);case 5:s=e.sent,i=s.data,t(te(i)),t(V(i)),localStorage.setItem("userInfo",JSON.stringify(i)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t(ce(o));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r,c,n){return e.apply(this,arguments)}}(),lr=function(){var e=Object(nr.a)(cr.a.mark((function e(t,r){var c,n,a,s,i;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(ae()),c=Mt.getState().userLogin.userInfo.token,n={headers:{Authorization:"Bearer ".concat(c)}},e.next=6,sr.get("/users/".concat(r),n);case 6:a=e.sent,s=a.data,t(se(s)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t(ie(i));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),jr=function(){var e=Object(nr.a)(cr.a.mark((function e(t,r){var c,n,a,s,i;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(le()),c=Mt.getState().userLogin.userInfo.token,console.log(c),n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},e.next=7,sr.put("/users/profile",r,n);case 7:a=e.sent,s=a.data,t(je(s)),t(se(s)),t(V(s)),setTimeout((function(){t(be())}),3e3),localStorage.setItem("userInfo",JSON.stringify(s)),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t(ue(i));case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,r){return e.apply(this,arguments)}}(),ur=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.userLogin})).userInfo;return Object(er.jsx)("header",{children:Object(er.jsx)(Wt.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(er.jsxs)(zt.a,{children:[Object(er.jsx)($t.b,{to:"/",style:{textDecoration:"none"},children:Object(er.jsx)(Wt.a.Brand,{children:"Proshop"})}),Object(er.jsx)(Wt.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(er.jsxs)(Wt.a.Collapse,{id:"basic-navbar-nav",children:[Object(er.jsx)(tr,{}),Object(er.jsxs)(Ht.a,{className:"ms-auto",children:[Object(er.jsx)("div",{className:"nav-link",children:Object(er.jsxs)($t.b,{to:"/cart",className:Qt.a.link,children:[Object(er.jsx)("i",{className:"fas fa-shopping-cart",style:{marginRight:"5px"}}),"Cart"]})}),t?Object(er.jsxs)(Kt.a,{title:t.name,id:"username",children:[Object(er.jsx)("div",{className:"dropdown-item",children:Object(er.jsx)($t.b,{to:"/profile",className:Qt.a.profileLink,children:"Profile"})}),Object(er.jsx)("div",{className:"dropdown-item",style:{cursor:"pointer"},onClick:function(){or(e)},children:"Logout"})]}):Object(er.jsx)("div",{className:"nav-link",children:Object(er.jsxs)($t.b,{className:Qt.a.link,to:"/login",children:[Object(er.jsx)("i",{className:"fas fa-user",style:{marginRight:"5px"}}),"Sign In"]})}),t&&t.isAdmin&&Object(er.jsxs)(Kt.a,{title:"Admin",id:"adminmenu",children:[Object(er.jsx)("div",{className:"dropdown-item",children:Object(er.jsx)($t.b,{to:"/admin/userlist",className:Qt.a.profileLink,children:"Users"})}),Object(er.jsx)("div",{className:"dropdown-item",children:Object(er.jsx)($t.b,{to:"/admin/productlist",className:Qt.a.profileLink,children:"Products"})}),Object(er.jsx)("div",{className:"dropdown-item",children:Object(er.jsx)($t.b,{to:"/admin/orderlist",className:Qt.a.profileLink,children:"Orders"})})]})]})]})]})})})},br=r(147),pr=r(96),hr=function(){return Object(er.jsx)("footer",{children:Object(er.jsx)(zt.a,{children:Object(er.jsx)(br.a,{children:Object(er.jsx)(pr.a,{className:"text-center py-3",children:"Copyright \xa9 Proshop"})})})})},Or=r(83),xr=r(156),mr=r(11),fr=r.n(mr),gr=function(e){var t=e.value,r=e.text,c=e.color;return Object(er.jsxs)("div",{className:"rating",children:[Object(er.jsx)("span",{children:Object(er.jsx)("i",{style:{color:c},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(er.jsx)("span",{children:Object(er.jsx)("i",{style:{color:c},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(er.jsx)("span",{children:Object(er.jsx)("i",{style:{color:c},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(er.jsx)("span",{children:Object(er.jsx)("i",{style:{color:c},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(er.jsx)("span",{children:Object(er.jsx)("i",{style:{color:c},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(er.jsx)("span",{children:r&&r})]})};gr.defaultProps={color:"#f8e825"},gr.propTypes={value:fr.a.number,text:fr.a.string.isRequired,color:fr.a.string};var vr=function(e){var t=e.product;return Object(er.jsxs)(xr.a,{className:"my-3 py-3 rounded",children:[Object(er.jsx)($t.b,{to:"/product/".concat(t._id),children:Object(er.jsx)(xr.a.Img,{src:t.image,variant:"top"})}),Object(er.jsxs)(xr.a.Body,{children:[Object(er.jsx)($t.b,{to:"/product/".concat(t._id),children:Object(er.jsx)(xr.a.Title,{as:"div",children:Object(er.jsx)("strong",{children:t.name})})}),Object(er.jsx)(xr.a.Text,{as:"div",children:Object(er.jsx)(gr,{value:t.rating,text:"".concat(t.numReviews," reviews")})}),Object(er.jsxs)(xr.a.Text,{as:"h3",children:["$",t.price]})]})]})},_r=function(){var e=Object(nr.a)(cr.a.mark((function e(t){var r,c,n,a,s=arguments;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:"",c=s.length>2&&void 0!==s[2]?s[2]:"",e.prev=2,t(p()),e.next=6,sr.get("/products?keyword=".concat(r,"&pageNumber=").concat(c));case 6:n=e.sent,t(h(n.data)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),a=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t(O(a));case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),yr=function(){var e=Object(nr.a)(cr.a.mark((function e(t,r){var c,n;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(m()),e.next=4,sr.get("/products/".concat(r));case 4:c=e.sent,t(f(c.data)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),n=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t(g(n));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),Ir=function(){var e=Object(nr.a)(cr.a.mark((function e(t,r,c){var n,a,s;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(_()),n=Mt.getState().userLogin.userInfo.token,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.next=6,sr.post("/products/".concat(r,"/reviews"),c,a);case 6:t(y()),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),s=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t(I(s));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r,c){return e.apply(this,arguments)}}(),Sr=function(){var e=Object(nr.a)(cr.a.mark((function e(t){var r,c;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(C()),e.next=4,sr.get("/products/top");case 4:r=e.sent,t(N(r.data)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),c=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t(w(c));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),kr=r(148),Cr=function(){return Object(er.jsx)(kr.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(er.jsx)("span",{className:"sr-only",children:"Loading..."})})},Nr=r(149),wr=function(e){var t=e.variant,r=e.children;return Object(er.jsx)(Nr.a,{variant:t,children:r})};wr.defaultProps={variant:"info"};var Pr=wr,Lr=r(24),Ar=r(158),Er=r(68),Dr=r.n(Er),qr=function(e){var t=e.pages,r=e.page,c=e.isAdmin,n=void 0!==c&&c,a=e.keyword,s=void 0===a?"":a;return t>1&&Object(er.jsx)(Ar.a,{children:Object(Lr.a)(Array(t).keys()).map((function(e){return Object(er.jsx)("div",{className:"page-item active ".concat(Dr.a.pageItem," ").concat(e+1===r&&Dr.a.pageItemActive),active:e+1===r,children:Object(er.jsx)($t.b,{className:"".concat(Dr.a.pageNumLink," ").concat(Dr.a.pageNumLinkActive),to:n?"/admin/productlist/".concat(e+1):s?"/search/".concat(s,"/page/").concat(e+1):"/page/".concat(e+1),children:e+1})},e+1)}))})},Gr=r(155),Tr=r(150),Fr=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.topRatedProduct})),r=t.loading,n=t.error,a=t.products;return Object(c.useEffect)((function(){Sr(e)}),[e]),r?Object(er.jsx)(Cr,{}):n?Object(er.jsx)(Pr,{variant:"danger",children:n}):Object(er.jsx)(Gr.a,{pause:"hover",variant:"dark",children:a.map((function(e){return Object(er.jsx)(Gr.a.Item,{children:Object(er.jsxs)($t.b,{to:"/product/".concat(e._id),children:[Object(er.jsx)(Tr.a,{src:e.image,alt:e.name,fluid:!0}),Object(er.jsx)(Gr.a.Caption,{className:"carousel-caption",children:Object(er.jsx)("h2",{style:{fontWeight:"500",fontSize:"13px"},children:e.name})})]})},e._id)}))})},Br=function(){var e=Object(s.b)(),t=Object(Jt.g)(),r=t.keyword,n=t.pageNumber,a=n||1;Object(c.useEffect)((function(){_r(e,r,a)}),[e,r,a]);var i=Object(s.c)((function(e){return e.productList})),o=i.products,d=i.error,l=i.loading,j=i.pages,u=i.page;return Object(er.jsxs)(er.Fragment,{children:[Object(er.jsxs)(Or.a,{children:[Object(er.jsx)("title",{children:"Welcome to ProShop | Home"}),Object(er.jsx)("meta",{name:"description",content:"We sell the best products for cheap"}),Object(er.jsx)("meta",{name:"keywords",content:"electronics buy electronics, cheap electronics"})]}),r?Object(er.jsx)($t.b,{to:"/",className:"btn btn-light",children:"Go Back"}):Object(er.jsx)(Fr,{}),Object(er.jsx)("h1",{children:"Latest Products"}),l?Object(er.jsx)(Cr,{}):d?Object(er.jsx)(Pr,{variant:"danger",children:d}):Object(er.jsxs)(er.Fragment,{children:[Object(er.jsx)(br.a,{children:o.map((function(e){return Object(er.jsx)(pr.a,{className:"d-flex align-items-stretch",sm:12,md:6,lg:4,xl:3,children:Object(er.jsx)(vr,{product:e})},e._id)}))}),Object(er.jsx)(qr,{pages:j,page:u,keyword:r||""})]})]})},Ur=r(159),Rr=function(){var e,t,r=Object(Jt.g)().id,n=Object(c.useState)(1),a=Object(Vt.a)(n,2),i=a[0],o=a[1],d=Object(c.useState)(0),l=Object(Vt.a)(d,2),j=l[0],u=l[1],b=Object(c.useState)(""),p=Object(Vt.a)(b,2),h=p[0],O=p[1],x=Object(s.b)(),m=Object(Jt.f)(),f=Object(s.c)((function(e){return e.singleProduct})),g=f.loading,v=f.product,_=f.error,y=Object(s.c)((function(e){return e.productReview})),I=y.success,k=y.error,C=Object(s.c)((function(e){return e.userLogin})).userInfo;Object(c.useEffect)((function(){I&&(alert("Review Submitted"),u(0),O(""),x(S())),yr(x,r)}),[r,x,I]);return Object(er.jsxs)(er.Fragment,{children:[Object(er.jsxs)(Or.a,{children:[Object(er.jsx)("title",{children:v.name}),Object(er.jsx)("meta",{name:"description",content:"We sell the best products for cheap"}),Object(er.jsx)("meta",{name:"keywords",content:"electronics buy electronics, cheap electronics"})]}),Object(er.jsx)($t.b,{className:"btn btn-light my-3",to:"/",children:"Go Back"}),g?Object(er.jsx)(Cr,{}):_?Object(er.jsx)(Pr,{variant:"danger",children:_}):Object(er.jsxs)(er.Fragment,{children:[Object(er.jsxs)(br.a,{children:[Object(er.jsx)(pr.a,{md:6,children:Object(er.jsx)(Tr.a,{src:v.image,alt:v.name,fluid:!0})}),Object(er.jsx)(pr.a,{md:3,children:Object(er.jsxs)(Ur.a,{variant:"flush",children:[Object(er.jsx)(Ur.a.Item,{children:Object(er.jsx)("h2",{children:v.name})}),Object(er.jsx)(Ur.a.Item,{children:Object(er.jsx)(gr,{value:v.rating,text:"".concat(v.numReviews," reviews")})}),Object(er.jsxs)(Ur.a.Item,{children:["Price: $",v.price]}),Object(er.jsxs)(Ur.a.Item,{children:["Description: ",v.description]})]})}),Object(er.jsx)(pr.a,{md:3,children:Object(er.jsx)(xr.a,{children:Object(er.jsxs)(Ur.a,{variant:"flush",children:[Object(er.jsx)(Ur.a.Item,{children:Object(er.jsxs)(br.a,{children:[Object(er.jsx)(pr.a,{children:"Price"}),Object(er.jsx)(pr.a,{children:Object(er.jsxs)("strong",{children:["$",v.price]})})]})}),Object(er.jsx)(Ur.a.Item,{children:Object(er.jsxs)(br.a,{children:[Object(er.jsx)(pr.a,{children:"Status"}),Object(er.jsx)(pr.a,{children:v.countInStock>0?"In Stock":"Out of Stock"})]})}),v.countInStock>0&&Object(er.jsx)(Ur.a.Item,{children:Object(er.jsxs)(br.a,{children:[Object(er.jsx)(pr.a,{children:"Qty"}),Object(er.jsx)(pr.a,{children:Object(er.jsx)(Xt.a.Select,{value:i,onChange:function(e){return o(e.target.value)},children:Object(Lr.a)(Array(v.countInStock).keys()).map((function(e){return Object(er.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(er.jsx)(Ur.a.Item,{className:"d-grid gap-2",children:Object(er.jsx)(Zt.a,{onClick:function(e){m("/cart/".concat(r,"?qty=").concat(i))},type:"button",disabled:0===v.countInStock,children:"Add To Cart"})})]})})})]}),Object(er.jsx)(br.a,{children:Object(er.jsxs)(pr.a,{md:6,children:[Object(er.jsx)("h2",{children:"Reviews"}),0===(null===(e=v.reviews)||void 0===e?void 0:e.length)&&Object(er.jsx)(Pr,{children:"No Reviews"}),Object(er.jsxs)(Ur.a,{variant:"flush",children:[null===(t=v.reviews)||void 0===t?void 0:t.map((function(e){return Object(er.jsxs)(Ur.a.Item,{children:[Object(er.jsx)("strong",{children:e.name}),Object(er.jsx)(gr,{value:e.rating}),Object(er.jsx)("p",{children:e.createdAt.substring(0,10)}),Object(er.jsx)("p",{children:e.comment})]},e._id)})),Object(er.jsxs)(Ur.a.Item,{children:[Object(er.jsx)("h2",{children:"Write a product review"}),k&&Object(er.jsx)(Pr,{variant:"danger",children:k}),C?Object(er.jsxs)(Xt.a,{onSubmit:function(e){e.preventDefault(),Ir(x,r,{rating:j,comment:h})},children:[Object(er.jsxs)(Xt.a.Group,{controlId:"rating",children:[Object(er.jsx)(Xt.a.Label,{children:"Rating"}),Object(er.jsxs)(Xt.a.Select,{value:j,onChange:function(e){return u(e.target.value)},children:[Object(er.jsx)("option",{value:"",children:"Select...."}),Object(er.jsx)("option",{value:"1",children:"1 - Poor"}),Object(er.jsx)("option",{value:"2",children:"2 - Fair"}),Object(er.jsx)("option",{value:"3",children:"3 - Good"}),Object(er.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(er.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(er.jsxs)(Xt.a.Group,{children:[Object(er.jsx)(Xt.a.Label,{children:"Comment"}),Object(er.jsx)(Xt.a.Control,{as:"textarea",row:"3",value:h,onChange:function(e){return O(e.target.value)}})]}),Object(er.jsx)(Zt.a,{type:"submit",variant:"primary",children:"Submit"})]}):Object(er.jsxs)(Pr,{children:["Please ",Object(er.jsx)($t.b,{to:"/login",children:"signin"})," to write a review"," "]})]})]})]})})]})]})},Mr=function(){var e=Object(nr.a)(cr.a.mark((function e(t,r,c){var n,a;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sr.get("/products/".concat(r));case 2:n=e.sent,a=n.data,t(B({product:a._id,name:a.name,image:a.image,price:a.price,countInStock:a.countInStock,qty:c})),localStorage.setItem("cartItems",JSON.stringify(Mt.getState().cart.cartItems));case 6:case"end":return e.stop()}}),e)})));return function(t,r,c){return e.apply(this,arguments)}}(),zr=function(){var e=Object(Jt.g)().id,t=Object(Jt.e)(),r=Object(s.b)(),n=Object(Jt.f)(),a=t.search?Number(t.search.split("=")[1]):1,i=Object(s.c)((function(e){return e.cart})).cartItems;Object(c.useEffect)((function(){e&&Mr(r,e,a)}),[r,e,a]);var o=function(e){!function(e,t){e(U(t)),localStorage.setItem("cartItems",JSON.stringify(Mt.getState().cart.cartItems))}(r,e)};return Object(er.jsxs)(br.a,{children:[Object(er.jsxs)(pr.a,{md:8,children:[Object(er.jsx)("h1",{children:"Shopping Cart"}),0===i.length?Object(er.jsxs)(Pr,{children:["Your Cart is Empty",Object(er.jsx)($t.b,{style:{marginLeft:"16px"},to:"/",children:"Go back"})]}):Object(er.jsx)(Ur.a,{variant:"flush",children:i.map((function(e){return Object(er.jsx)(Ur.a.Item,{children:Object(er.jsxs)(br.a,{children:[Object(er.jsx)(pr.a,{md:2,children:Object(er.jsx)(Tr.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(er.jsx)(pr.a,{md:3,children:Object(er.jsx)($t.b,{to:"/product/".concat(e.product),children:e.name})}),Object(er.jsxs)(pr.a,{md:2,children:["$",e.price]}),Object(er.jsx)(pr.a,{md:2,children:Object(er.jsx)(Xt.a.Select,{value:e.qty,onChange:function(t){return Mr(r,e.product,Number(t.target.value))},children:Object(Lr.a)(Array(e.countInStock).keys()).map((function(e){return Object(er.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(er.jsx)(pr.a,{md:2,children:Object(er.jsx)(Zt.a,{type:"button",variant:"light",onClick:function(){return o(e.product)},children:Object(er.jsx)("i",{className:"fas fa-trash"})})})]})},e.product)}))})]}),Object(er.jsx)(pr.a,{md:4,children:Object(er.jsx)(xr.a,{children:Object(er.jsxs)(Ur.a,{variant:"flush",children:[Object(er.jsxs)(Ur.a.Item,{children:[Object(er.jsxs)("h2",{children:["Subtotal (",i.reduce((function(e,t){return e+t.qty}),0),") items"]}),"$",i.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]}),Object(er.jsx)(Ur.a.Item,{className:"d-grid gap-2",children:Object(er.jsx)(Zt.a,{type:"button",disabled:0===i.length,onClick:function(){n("/login?redirect=/shipping")},children:"Procced To Checkout"})})]})})})]})},$r=function(e){var t=e.children;return Object(er.jsx)(zt.a,{children:Object(er.jsx)(br.a,{className:"justify-content-md-center",children:Object(er.jsx)(pr.a,{xs:12,md:6,children:t})})})},Jr=function(){var e=Object(c.useState)(""),t=Object(Vt.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)(""),i=Object(Vt.a)(a,2),o=i[0],d=i[1],l=Object(Jt.e)(),j=Object(s.b)(),u=Object(Jt.f)(),b=Object(s.c)((function(e){return e.userLogin})),p=b.loading,h=b.error,O=b.userInfo,x=l.search?l.search.split("=")[1]:"/";Object(c.useEffect)((function(){O&&u(x)}),[x,O,u]);return Object(er.jsxs)($r,{children:[Object(er.jsx)("h1",{children:"Sign In"}),h&&Object(er.jsx)(Pr,{variant:"danger",children:h}),p&&Object(er.jsx)(Cr,{}),Object(er.jsxs)(Xt.a,{onSubmit:function(e){e.preventDefault(),ir(j,r,o)},children:[Object(er.jsxs)(Xt.a.Group,{controlId:"email",children:[Object(er.jsx)(Xt.a.Label,{children:"Email Address"}),Object(er.jsx)(Xt.a.Control,{type:"email",placeholder:"Enter Email",value:r,onChange:function(e){return n(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"password",children:[Object(er.jsx)(Xt.a.Label,{children:"Password"}),Object(er.jsx)(Xt.a.Control,{type:"password",placeholder:"Enter Password",value:o,onChange:function(e){return d(e.target.value)}})]}),Object(er.jsx)(Zt.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(er.jsx)(br.a,{className:"py-3",children:Object(er.jsxs)(pr.a,{children:["New Customer?"," ",Object(er.jsx)($t.b,{to:x?"/register?redirect=".concat(x):"/register",children:"Register"})]})})]})},Wr=function(){var e=Object(c.useState)(""),t=Object(Vt.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)(""),i=Object(Vt.a)(a,2),o=i[0],d=i[1],l=Object(c.useState)(""),j=Object(Vt.a)(l,2),u=j[0],b=j[1],p=Object(c.useState)(""),h=Object(Vt.a)(p,2),O=h[0],x=h[1],m=Object(c.useState)(null),f=Object(Vt.a)(m,2),g=f[0],v=f[1],_=Object(Jt.e)(),y=Object(s.b)(),I=Object(Jt.f)(),S=Object(s.c)((function(e){return e.userRegister})),k=S.loading,C=S.error,N=S.userInfo,w=_.search?_.search.split("=")[1]:"/";Object(c.useEffect)((function(){N&&I(w)}),[w,N,I]);return Object(er.jsxs)($r,{children:[Object(er.jsx)("h1",{children:"Sign Up"}),g&&Object(er.jsx)(Pr,{variant:"danger",children:g}),C&&Object(er.jsx)(Pr,{variant:"danger",children:C}),k&&Object(er.jsx)(Cr,{}),Object(er.jsxs)(Xt.a,{onSubmit:function(e){e.preventDefault(),u!==O?v("Password did not Match!"):dr(y,r,o,u)},children:[Object(er.jsxs)(Xt.a.Group,{controlId:"name",children:[Object(er.jsx)(Xt.a.Label,{children:"Name"}),Object(er.jsx)(Xt.a.Control,{type:"name",placeholder:"Enter name",value:r,onChange:function(e){return n(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"email",children:[Object(er.jsx)(Xt.a.Label,{children:"Email Address"}),Object(er.jsx)(Xt.a.Control,{type:"email",placeholder:"Enter Email",value:o,onChange:function(e){return d(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"password",children:[Object(er.jsx)(Xt.a.Label,{children:"Password"}),Object(er.jsx)(Xt.a.Control,{type:"password",placeholder:"Enter Password",value:u,onChange:function(e){return b(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"confirmPassword",children:[Object(er.jsx)(Xt.a.Label,{children:"Confirm Password"}),Object(er.jsx)(Xt.a.Control,{type:"password",placeholder:"Confirm Password",value:O,onChange:function(e){return x(e.target.value)}})]}),Object(er.jsx)(Zt.a,{type:"submit",variant:"primary",className:"mt-3",children:"Register"})]}),Object(er.jsx)(br.a,{className:"py-3",children:Object(er.jsxs)(pr.a,{children:["Have an Account?"," ",Object(er.jsx)($t.b,{to:w?"/login?redirect=".concat(w):"/login",children:"Login"})]})})]})},Hr=r(151),Kr=function(){var e=Object(nr.a)(cr.a.mark((function e(t,r){var c,n,a,s,i;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(ye()),c=Mt.getState().userLogin.userInfo.token,n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},e.next=6,sr.post("/orders",r,n);case 6:a=e.sent,s=a.data,t(Ie(s)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t(Se(i));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),Yr=function(){var e=Object(nr.a)(cr.a.mark((function e(t,r){var c,n,a,s,i;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Ce()),c=Mt.getState().userLogin.userInfo.token,n={headers:{Authorization:"Bearer ".concat(c)}},e.next=6,sr.get("/orders/".concat(r),n);case 6:a=e.sent,s=a.data,t(Ne(s)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t(we(i));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),Qr=function(){var e=Object(nr.a)(cr.a.mark((function e(t,r,c){var n,a,s,i,o;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Le()),n=Mt.getState().userLogin.userInfo.token,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.next=6,sr.put("/orders/".concat(r,"/pay"),c,a);case 6:s=e.sent,i=s.data,t(Ae(i)),Yr(t,r),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t(Ee(o));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r,c){return e.apply(this,arguments)}}(),Vr=function(){var e=Object(nr.a)(cr.a.mark((function e(t){var r,c,n,a,s;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(qe()),r=Mt.getState().userLogin.userInfo.token,c={headers:{Authorization:"Bearer ".concat(r)}},e.next=6,sr.get("/orders/myorders",c);case 6:n=e.sent,a=n.data,t(Ge(a)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),s=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t(Te(s));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),Xr=function(){var e=Object(c.useState)(""),t=Object(Vt.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)(""),i=Object(Vt.a)(a,2),o=i[0],d=i[1],l=Object(c.useState)(""),j=Object(Vt.a)(l,2),u=j[0],b=j[1],p=Object(c.useState)(""),h=Object(Vt.a)(p,2),O=h[0],x=h[1],m=Object(c.useState)(null),f=Object(Vt.a)(m,2),g=f[0],v=f[1],_=Object(s.b)(),y=Object(Jt.f)(),I=Object(s.c)((function(e){return e.userProfile})),S=I.loading,k=I.error,C=I.user,N=Object(s.c)((function(e){return e.userLogin})).userInfo,w=Object(s.c)((function(e){return e.userProfileUpdate})).success,P=Object(s.c)((function(e){return e.myOrderList})),L=P.loading,A=P.error,E=P.orders;Object(c.useEffect)((function(){N?C.name?(n(C.name),d(C.email)):(lr(_,"profile"),Vr(_)):y("/login")}),[N,y,C,_]);return Object(er.jsxs)(br.a,{children:[Object(er.jsxs)(pr.a,{md:3,children:[Object(er.jsx)("h2",{children:"User Profile"}),g&&Object(er.jsx)(Pr,{variant:"danger",children:g}),k&&Object(er.jsx)(Pr,{variant:"danger",children:k}),w&&Object(er.jsx)(Pr,{variant:"success",children:w}),S&&Object(er.jsx)(Cr,{}),Object(er.jsxs)(Xt.a,{onSubmit:function(e){e.preventDefault(),u!==O?v("Password did not Match!"):jr(_,{id:C._id,name:r,email:o,password:u})},children:[Object(er.jsxs)(Xt.a.Group,{controlId:"name",children:[Object(er.jsx)(Xt.a.Label,{children:"Name"}),Object(er.jsx)(Xt.a.Control,{type:"name",placeholder:"Enter name",value:r,onChange:function(e){return n(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"email",children:[Object(er.jsx)(Xt.a.Label,{children:"Email Address"}),Object(er.jsx)(Xt.a.Control,{type:"email",placeholder:"Enter Email",value:o,onChange:function(e){return d(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"password",children:[Object(er.jsx)(Xt.a.Label,{children:"Password"}),Object(er.jsx)(Xt.a.Control,{type:"password",placeholder:"Enter Password",value:u,onChange:function(e){return b(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"confirmPassword",children:[Object(er.jsx)(Xt.a.Label,{children:"Confirm Password"}),Object(er.jsx)(Xt.a.Control,{type:"password",placeholder:"Confirm Password",value:O,onChange:function(e){return x(e.target.value)}})]}),Object(er.jsx)(Zt.a,{type:"submit",variant:"primary",className:"mt-3",children:"Update"})]})]}),Object(er.jsxs)(pr.a,{md:9,children:[Object(er.jsx)("h2",{children:"My orders"}),L?Object(er.jsx)(Cr,{}):A?Object(er.jsx)(Pr,{variant:"danger",children:A}):Object(er.jsxs)(Hr.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(er.jsx)("thead",{children:Object(er.jsxs)("tr",{children:[Object(er.jsx)("th",{children:"ID"}),Object(er.jsx)("th",{children:"Date"}),Object(er.jsx)("th",{children:"Total"}),Object(er.jsx)("th",{children:"Paid"}),Object(er.jsx)("th",{children:"Delivered"}),Object(er.jsx)("th",{})]})}),Object(er.jsx)("tbody",{children:E.map((function(e){return Object(er.jsxs)("tr",{children:[Object(er.jsx)("td",{children:e._id}),Object(er.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(er.jsx)("td",{children:e.totalPrice}),Object(er.jsx)("td",{children:e.isPaid?e.paidtAt.substring(0,10):Object(er.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(er.jsx)("td",{children:e.isDelivered?e.isDeliveredAt.substring(0,10):Object(er.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(er.jsx)("td",{children:Object(er.jsx)($t.b,{to:"/orders/".concat(e._id),children:Object(er.jsx)(Zt.a,{className:"btn-sm",variant:"light",children:"Details"})})})]},e._id)}))})]})]})]})},Zr=r(45),ec=r.n(Zr),tc=function(e){var t=e.step1,r=e.step2,c=e.step3,n=e.step4;return Object(er.jsxs)(Ht.a,{className:"justify-content-center mb-4",children:[Object(er.jsx)(Ht.a.Item,{children:t?Object(er.jsx)($t.b,{to:"/login",className:ec.a.stepsLink,children:"Sign In"}):Object(er.jsx)($t.b,{to:"/login",className:ec.a.stepsLinkDisable,children:"Shipping"})}),Object(er.jsx)(Ht.a.Item,{children:r?Object(er.jsx)($t.b,{to:"/login",className:ec.a.stepsLink,children:"Shipping"}):Object(er.jsx)($t.b,{to:"/login",className:ec.a.stepsLinkDisable,children:"Sign In"})}),Object(er.jsx)(Ht.a.Item,{children:c?Object(er.jsx)($t.b,{to:"/payment",className:ec.a.stepsLink,children:"Payment"}):Object(er.jsx)($t.b,{to:"/payment",className:ec.a.stepsLinkDisable,children:"Payment"})}),Object(er.jsx)(Ht.a.Item,{children:n?Object(er.jsx)($t.b,{to:"/placeorder",className:ec.a.stepsLink,children:"Place Order"}):Object(er.jsx)($t.b,{to:"/placeorder",className:ec.a.stepsLinkDisable,children:"Place Order"})})]})},rc=function(){var e=Object(s.c)((function(e){return e.cart})).shippingAddress,t=Object(c.useState)(e.address),r=Object(Vt.a)(t,2),n=r[0],a=r[1],i=Object(c.useState)(e.city),o=Object(Vt.a)(i,2),d=o[0],l=o[1],j=Object(c.useState)(e.postalCode),u=Object(Vt.a)(j,2),b=u[0],p=u[1],h=Object(c.useState)(e.country),O=Object(Vt.a)(h,2),x=O[0],m=O[1],f=Object(Jt.f)(),g=Object(s.b)();return Object(er.jsxs)($r,{children:[Object(er.jsx)(tc,{step1:!0,step2:!0}),Object(er.jsx)("h1",{children:"Shipping"}),Object(er.jsxs)(Xt.a,{onSubmit:function(e){e.preventDefault(),function(e,t){e(R(t)),localStorage.setItem("shipping",JSON.stringify(t))}(g,{address:n,city:d,postalCode:b,country:x}),f("/payment")},children:[Object(er.jsxs)(Xt.a.Group,{controlId:"address",children:[Object(er.jsx)(Xt.a.Label,{children:"Address"}),Object(er.jsx)(Xt.a.Control,{type:"text",placeholder:"Enter Address",value:n,required:!0,onChange:function(e){return a(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"city",children:[Object(er.jsx)(Xt.a.Label,{children:"City"}),Object(er.jsx)(Xt.a.Control,{type:"text",placeholder:"Enter City",value:d,required:!0,onChange:function(e){return l(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"postalCode",children:[Object(er.jsx)(Xt.a.Label,{children:"PostalCode"}),Object(er.jsx)(Xt.a.Control,{type:"text",placeholder:"Enter PostalCode",value:b,required:!0,onChange:function(e){return p(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"country",children:[Object(er.jsx)(Xt.a.Label,{children:"Country"}),Object(er.jsx)(Xt.a.Control,{type:"text",placeholder:"Enter Country",value:x,required:!0,onChange:function(e){return m(e.target.value)}})]}),Object(er.jsx)(Zt.a,{type:"submit",variant:"primary",children:"Continue"})]})]})},cc=function(){var e=Object(c.useState)("stripe"),t=Object(Vt.a)(e,2),r=t[0],n=t[1],a=Object(s.c)((function(e){return e.cart})).shippingAddress,i=Object(Jt.f)(),o=Object(s.b)();a||i("/shipping");return console.log(r),Object(er.jsxs)($r,{children:[Object(er.jsx)(tc,{step1:!0,step2:!0,step3:!0}),Object(er.jsx)("h1",{children:"Payment Method"}),Object(er.jsxs)(Xt.a,{onSubmit:function(e){e.preventDefault(),function(e,t){e(M(t)),localStorage.setItem("paymentMethod",JSON.stringify(t))}(o,r),i("/placeorder")},children:[Object(er.jsxs)(Xt.a.Group,{children:[Object(er.jsx)(Xt.a.Label,{as:"legend",children:"Select Method"}),Object(er.jsxs)(pr.a,{children:[Object(er.jsx)(Xt.a.Check,{type:"radio",label:"Paypal or Credit Card (Coming Soon)",id:"Paypal",name:"paymentMethod",value:"paypal",disabled:!0,onClick:function(e){return n(e.target.value)}}),Object(er.jsx)(Xt.a.Check,{type:"radio",label:"Stripe",id:"Stripe",name:"paymentMethod",value:"stripe",defaultChecked:!0,onClick:function(e){return n(e.target.value)}})]})]}),Object(er.jsx)(Zt.a,{style:{marginTop:"13px"},type:"submit",variant:"primary",children:"Continue"})]})]})},nc=r(2),ac=function(){var e=Object(s.b)(),t=Object(Jt.f)(),r=Object(s.c)((function(e){return e.cart})),n=function(e){return Math.round(100*e/100).toFixed(2)},a=n(r.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0)),i=n(a>100?5:100),o=n(Number((.15*a).toFixed(2))),d=(Number(a)+Number(i)+Number(o)).toFixed(2);r=Object(nc.a)(Object(nc.a)({},r),{},{itemsPrice:a,shippingPrice:i,taxPrice:o,totalPrice:d});var l=Object(s.c)((function(e){return e.orderCreate})),j=l.order,u=l.success,b=l.error;Object(c.useEffect)((function(){u&&t("/orders/".concat(j._id))}),[u,t]);return Object(er.jsxs)(er.Fragment,{children:[Object(er.jsx)(tc,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(er.jsxs)(br.a,{children:[Object(er.jsx)(pr.a,{md:8,children:Object(er.jsxs)(Ur.a,{children:[Object(er.jsxs)(Ur.a.Item,{children:[Object(er.jsx)("h2",{children:"Shipping"}),Object(er.jsxs)("p",{children:[Object(er.jsx)("strong",{children:"Address:"}),r.shippingAddress.address,",",r.shippingAddress.city,",",r.shippingAddress.postalCode,",",r.shippingAddress.country]})]}),Object(er.jsxs)(Ur.a.Item,{children:[Object(er.jsx)("h2",{children:"Paymeny Method"}),Object(er.jsx)("strong",{children:"Method: "}),r.paymentMethod]}),Object(er.jsxs)(Ur.a.Item,{children:[Object(er.jsx)("h2",{children:"Order Items"}),0===r.cartItems.length?Object(er.jsx)(Pr,{children:"Your Cart Is Empty"}):Object(er.jsx)(Ur.a.Item,{children:Object(er.jsx)(Ur.a,{variant:"flush",children:r.cartItems.map((function(e,t){return Object(er.jsx)(Ur.a.Item,{children:Object(er.jsxs)(br.a,{children:[Object(er.jsx)(pr.a,{md:1,children:Object(er.jsx)(Tr.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(er.jsx)(pr.a,{children:Object(er.jsx)($t.b,{to:"/product/".concat(e.product),style:{textDecoration:"none"},children:e.name})}),Object(er.jsxs)(pr.a,{md:4,children:[e.qty," x $",e.price," = $",e.qty*e.price]})]})},t)}))})})]})]})}),Object(er.jsx)(pr.a,{md:4,children:Object(er.jsxs)(Ur.a,{children:[Object(er.jsx)(Ur.a.Item,{children:Object(er.jsx)("h2",{children:"Order Summary"})}),Object(er.jsx)(Ur.a.Item,{children:Object(er.jsxs)(br.a,{children:[Object(er.jsx)(pr.a,{children:"Items"}),Object(er.jsxs)(pr.a,{children:["$",r.itemsPrice]})]})}),Object(er.jsx)(Ur.a.Item,{children:Object(er.jsxs)(br.a,{children:[Object(er.jsx)(pr.a,{children:"Shipping Price"}),Object(er.jsxs)(pr.a,{children:["$",r.shippingPrice]})]})}),Object(er.jsx)(Ur.a.Item,{children:Object(er.jsxs)(br.a,{children:[Object(er.jsx)(pr.a,{children:"Tax Price"}),Object(er.jsxs)(pr.a,{children:["$",r.taxPrice]})]})}),Object(er.jsx)(Ur.a.Item,{children:Object(er.jsxs)(br.a,{children:[Object(er.jsx)(pr.a,{children:"Total"}),Object(er.jsxs)(pr.a,{children:["$",r.totalPrice]})]})}),Object(er.jsx)(Ur.a.Item,{children:b&&Object(er.jsx)(Pr,{variant:"danger",children:b})}),Object(er.jsx)(Ur.a.Item,{className:"d-grid gap-2",children:Object(er.jsx)(Zt.a,{type:"button",disabled:0===r.cartItems,onClick:function(){Kr(e,{orderItems:r.cartItems,shippingAddress:r.shippingAddress,payment:r.paymentMethod,itemsPrice:a,shippingPrice:i,taxPrice:o,totalPrice:d})},children:"Place Order"})})]})})]})]})},sc=r(103),ic=r.n(sc),oc=function(){var e=Object(s.b)(),t=Object(Jt.f)(),r=Object(c.useState)(),n=Object(Vt.a)(r,2),a=n[0],i=n[1],o=Object(c.useState)(""),d=Object(Vt.a)(o,2),l=d[0],j=d[1],u=Object(Jt.g)().id,b=Object(s.c)((function(e){return e.orderDetail})),p=Object(s.c)((function(e){return e.orderPay})),h=Object(s.c)((function(e){return e.userLogin})).userInfo,O="",x="";h&&(O=h.token,x=h._id);var m,f=b.loading,g=b.error,v=p.loading,_=b.order;if(!f){var y=(m=_.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0),Math.round(100*m/100).toFixed(2));_=Object(nc.a)(Object(nc.a)({},_),{},{itemsPrice:y})}Object(c.useEffect)((function(){if(!h)return t("/login");Yr(e,u);var r=function(){var e=Object(nr.a)(cr.a.mark((function e(){var t,r;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sr.get("/config/stripe");case 2:t=e.sent,r=t.data,j(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r()}),[u,j,h]);return Object(c.useEffect)((function(){if(!h)return t("/login");var r=function(){var t=Object(nr.a)(cr.a.mark((function t(){var r,c,n;return cr.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(O)}},t.prev=1,t.next=4,sr.post("/orders/payment",{amount:100*_.totalPrice,tokenId:a},r);case 4:c=t.sent,n=c.data,i(""),Qr(e,u,n),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();a&&r()}),[_,O,a,u,e,t,h]),f?Object(er.jsx)(Cr,{}):g?Object(er.jsx)(Pr,{variant:"danger",children:g}):_.user._id!==x?Object(er.jsx)(Pr,{variant:"danger",children:"No orders found"}):Object(er.jsxs)(er.Fragment,{children:[Object(er.jsxs)("h1",{children:["Order ",_._id]}),Object(er.jsxs)(br.a,{children:[Object(er.jsx)(pr.a,{md:8,children:Object(er.jsxs)(Ur.a,{children:[Object(er.jsxs)(Ur.a.Item,{children:[Object(er.jsx)("h2",{children:"Shipping"}),Object(er.jsxs)("p",{children:[Object(er.jsx)("strong",{children:"Name:"}),_.user.name]}),Object(er.jsxs)("p",{children:[Object(er.jsx)("strong",{children:"Email:"}),Object(er.jsx)("a",{href:"mailto:".concat(_.user.email),children:_.user.email})]}),Object(er.jsxs)("p",{children:[Object(er.jsx)("strong",{children:"Address:"}),_.shippingAddress.address,",",_.shippingAddress.city,",",_.shippingAddress.postalCode,",",_.shippingAddress.country]}),_.isDelivered?Object(er.jsxs)(Pr,{variant:"success",children:["Delivered at ",_.isDeliveredAt]}):Object(er.jsx)(Pr,{variant:"danger",children:"Not Delivered"})]}),Object(er.jsxs)(Ur.a.Item,{children:[Object(er.jsx)("h2",{children:"Paymeny Method"}),Object(er.jsxs)("p",{children:[Object(er.jsx)("strong",{children:"Method: "}),_.payment]}),_.isPaid?Object(er.jsxs)(Pr,{variant:"success",children:["Paid on ",_.paidtAt]}):Object(er.jsx)(Pr,{variant:"danger",children:"Not paid"})]}),Object(er.jsxs)(Ur.a.Item,{children:[Object(er.jsx)("h2",{children:"Order Items"}),0===_.orderItems.length?Object(er.jsx)(Pr,{children:"Your Orders Is Empty"}):Object(er.jsx)(Ur.a.Item,{children:Object(er.jsx)(Ur.a,{variant:"flush",children:_.orderItems.map((function(e,t){return Object(er.jsx)(Ur.a.Item,{children:Object(er.jsxs)(br.a,{children:[Object(er.jsx)(pr.a,{md:1,children:Object(er.jsx)(Tr.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(er.jsx)(pr.a,{children:Object(er.jsx)($t.b,{to:"/product/".concat(e.product),style:{textDecoration:"none"},children:e.name})}),Object(er.jsxs)(pr.a,{md:4,children:[e.qty," x $",e.price," = $",e.qty*e.price]})]})},t)}))})})]})]})}),Object(er.jsx)(pr.a,{md:4,children:Object(er.jsxs)(Ur.a,{children:[Object(er.jsx)(Ur.a.Item,{children:Object(er.jsx)("h2",{children:"Order Summary"})}),Object(er.jsx)(Ur.a.Item,{children:Object(er.jsxs)(br.a,{children:[Object(er.jsx)(pr.a,{children:"Items"}),Object(er.jsxs)(pr.a,{children:["$",_.itemsPrice]})]})}),Object(er.jsx)(Ur.a.Item,{children:Object(er.jsxs)(br.a,{children:[Object(er.jsx)(pr.a,{children:"Shipping Price"}),Object(er.jsxs)(pr.a,{children:["$",_.shippingPrice]})]})}),Object(er.jsx)(Ur.a.Item,{children:Object(er.jsxs)(br.a,{children:[Object(er.jsx)(pr.a,{children:"Tax Price"}),Object(er.jsxs)(pr.a,{children:["$",_.taxPrice]})]})}),Object(er.jsx)(Ur.a.Item,{children:Object(er.jsxs)(br.a,{children:[Object(er.jsx)(pr.a,{children:"Total"}),Object(er.jsxs)(pr.a,{children:["$",_.totalPrice]})]})}),!_.isPaid&&Object(er.jsx)(Ur.a.Item,{children:v?Object(er.jsx)(Cr,{}):Object(er.jsx)(ic.a,{name:"Ankan",image:"https://avatars.githubusercontent.com/u/1486366?v=4",billingAddress:!0,shippingAddress:!0,amount:100*_.totalPrice,token:function(e){i(e)},stripeKey:l,children:Object(er.jsx)(Zt.a,{children:"CHECKOUT NOW"})})})]})})]})]})},dc=function(){var e=Object(nr.a)(cr.a.mark((function e(t){var r,c,n,a,s;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Xe()),r=Mt.getState().userLogin.userInfo.token,c={headers:{Authorization:"Bearer ".concat(r)}},e.next=6,sr.get("/users",c);case 6:n=e.sent,a=n.data,t(Ze(a)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),s=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t(et(s));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),lc=function(){var e=Object(nr.a)(cr.a.mark((function e(t,r){var c,n,a;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(ct()),c=Mt.getState().userLogin.userInfo.token,console.log(c),n={headers:{Authorization:"Bearer ".concat(c)}},e.next=7,sr.delete("/users/".concat(r),n);case 7:t(nt()),dc(t),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),a=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t(at(a));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),jc=function(){var e=Object(nr.a)(cr.a.mark((function e(t,r,c){var n,a,s,i,o;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(it()),n=Mt.getState().userLogin.userInfo.token,console.log(n),a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.next=7,sr.put("/users/".concat(r),c,a);case 7:s=e.sent,i=s.data,t(ot()),t(se(i)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t(dt(o));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r,c){return e.apply(this,arguments)}}(),uc=function(){var e=Object(nr.a)(cr.a.mark((function e(t,r){var c,n,a;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(ut()),c=Mt.getState().userLogin.userInfo.token,console.log(c),n={headers:{Authorization:"Bearer ".concat(c)}},e.next=7,sr.delete("/products/".concat(r),n);case 7:t(bt()),_r(t),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),a=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t(pt(a));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),bc=function(){var e=Object(nr.a)(cr.a.mark((function e(t,r){var c,n,a,s,i;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Ot()),c=Mt.getState().userLogin.userInfo.token,n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},e.next=6,sr.post("/products",r,n);case 6:a=e.sent,s=a.data,t(xt(s)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t(mt(i));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),pc=function(){var e=Object(nr.a)(cr.a.mark((function e(t,r,c){var n,a,s,i,o;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(vt()),n=Mt.getState().userLogin.userInfo.token,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.next=6,sr.put("/products/".concat(r),c,a);case 6:s=e.sent,i=s.data,t(_t(i)),t(f(i)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t(yt(o));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r,c){return e.apply(this,arguments)}}(),hc=function(){var e=Object(nr.a)(cr.a.mark((function e(t){var r,c,n,a,s;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(kt()),r=Mt.getState().userLogin.userInfo.token,c={headers:{Authorization:"Bearer ".concat(r)}},e.next=6,sr.get("/orders",c);case 6:n=e.sent,a=n.data,t(Ct(a)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),s=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t(Nt(s));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),Oc=function(){var e=Object(nr.a)(cr.a.mark((function e(t,r){var c,n,a,s,i;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Pt()),c=Mt.getState().userLogin.userInfo.token,n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},e.next=6,sr.put("/orders/".concat(r,"/deliver"),{},n);case 6:a=e.sent,s=a.data,t(Lt(s)),hc(t),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t(At(i));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),xc=function(){var e=Object(s.b)(),t=Object(Jt.f)(),r=Object(s.c)((function(e){return e.userList})),n=r.loading,a=r.error,i=r.users,o=Object(s.c)((function(e){return e.userLogin})).userInfo;Object(c.useEffect)((function(){o&&o.isAdmin?dc(e):t("/login")}),[e,o,t]);return Object(er.jsxs)(er.Fragment,{children:[Object(er.jsx)("h1",{children:"Users"}),n?Object(er.jsx)(Cr,{}):a?Object(er.jsx)(Pr,{variant:"danger",children:a}):Object(er.jsxs)(Hr.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(er.jsx)("thead",{children:Object(er.jsxs)("tr",{children:[Object(er.jsx)("th",{children:"ID"}),Object(er.jsx)("th",{children:"NAME"}),Object(er.jsx)("th",{children:"EMAIL"}),Object(er.jsx)("th",{children:"ADMIN"}),Object(er.jsx)("th",{children:"ACTION"})]})}),Object(er.jsx)("tbody",{children:i.map((function(t){return Object(er.jsxs)("tr",{children:[Object(er.jsx)("td",{children:t._id}),Object(er.jsx)("td",{children:t.name}),Object(er.jsx)("td",{children:Object(er.jsx)("a",{href:"mailto: ".concat(t.email),children:t.email})}),Object(er.jsx)("td",{children:t.isAdmin?Object(er.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(er.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(er.jsxs)("td",{children:[Object(er.jsx)($t.b,{to:"/admin/user/".concat(t._id,"/edit"),children:Object(er.jsx)(Zt.a,{variant:"light",className:"btn-sm",children:Object(er.jsx)("i",{className:"fas fa-edit "})})}),Object(er.jsx)(Zt.a,{variant:"danger",className:"btn-sm",onClick:function(){return r=t._id,void(window.confirm("Are you sure")&&lc(e,r));var r},children:Object(er.jsx)("i",{className:"fas fa-trash"})})]})]},t._id)}))})]})]})},mc=function(){var e=Object(Jt.g)().id,t=Object(c.useState)(""),r=Object(Vt.a)(t,2),n=r[0],a=r[1],i=Object(c.useState)(""),o=Object(Vt.a)(i,2),d=o[0],l=o[1],j=Object(c.useState)(!1),u=Object(Vt.a)(j,2),b=u[0],p=u[1],h=Object(s.b)(),O=Object(Jt.f)(),x=Object(s.c)((function(e){return e.userProfile})),m=x.loading,f=x.error,g=x.user,v=Object(s.c)((function(e){return e.userUpdate})),_=v.loading,y=v.error,I=v.success;Object(c.useEffect)((function(){I?(h(lt()),O(-1)):g.name&&g._id===e?(a(g.name),l(g.email),p(g.isAdmin)):lr(h,e)}),[g,h,I,O,e]);return Object(er.jsxs)(er.Fragment,{children:[Object(er.jsx)($t.b,{to:"/admin/userlist",className:"btn btn-light my-3",children:"Go Back"}),Object(er.jsxs)($r,{children:[Object(er.jsx)("h1",{children:"Edit User"}),_&&Object(er.jsx)(Cr,{}),y&&Object(er.jsx)(Pr,{variant:"danger",children:y}),m?Object(er.jsx)(Cr,{}):f?Object(er.jsx)(Pr,{variant:"danger",children:f}):Object(er.jsxs)(Xt.a,{onSubmit:function(t){t.preventDefault(),console.log(b),jc(h,e,{name:n,email:d,isAdmin:b})},children:[Object(er.jsxs)(Xt.a.Group,{controlId:"name",children:[Object(er.jsx)(Xt.a.Label,{children:"Name"}),Object(er.jsx)(Xt.a.Control,{type:"name",placeholder:"Enter name",value:n,onChange:function(e){return a(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"email",children:[Object(er.jsx)(Xt.a.Label,{children:"Email Address"}),Object(er.jsx)(Xt.a.Control,{type:"email",placeholder:"Enter Email",value:d,onChange:function(e){return l(e.target.value)}})]}),Object(er.jsx)(Xt.a.Group,{controlId:"isAdmin",children:Object(er.jsx)(Xt.a.Check,{type:"checkbox",label:"Is Admin",checked:b,onChange:function(e){return p(e.target.checked)}})}),Object(er.jsx)(Zt.a,{type:"submit",variant:"primary",className:"mt-3",children:"Update"})]})]})]})},fc=function(){var e=Object(s.b)(),t=Object(Jt.f)(),r=Object(Jt.g)().pageNumber,n=r||1,a=Object(s.c)((function(e){return e.productList})),i=a.loading,o=a.error,d=a.products,l=a.page,j=a.pages,u=Object(s.c)((function(e){return e.userLogin})).userInfo,b=!!u&&(!!u.isAdmin&&u.isAdmin),p=Object(s.c)((function(e){return e.deleteProduct})),h=p.loading,O=p.success,x=p.error;Object(c.useEffect)((function(){b?_r(e,"",n):t("/login")}),[e,b,t,O,n]);return Object(er.jsxs)(er.Fragment,{children:[Object(er.jsx)(br.a,{className:"align-items-center",children:Object(er.jsx)(pr.a,{className:"text-start",children:Object(er.jsxs)(Zt.a,{className:"my-3",onClick:function(){t("/admin/createproduct")},children:[Object(er.jsx)("i",{className:"fas fa-plus"}),"Create Product"]})})}),h&&Object(er.jsx)(Cr,{}),x&&Object(er.jsx)(Pr,{variant:"danger",children:x}),i?Object(er.jsx)(Cr,{}):o?Object(er.jsx)(Pr,{variant:"danger",children:o}):Object(er.jsxs)(er.Fragment,{children:[Object(er.jsxs)(Hr.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(er.jsx)("thead",{children:Object(er.jsxs)("tr",{children:[Object(er.jsx)("th",{children:"ID"}),Object(er.jsx)("th",{children:"NAME"}),Object(er.jsx)("th",{children:"PRICE"}),Object(er.jsx)("th",{children:"CATAGORY"}),Object(er.jsx)("th",{children:"BRAND"}),Object(er.jsx)("th",{children:"Action"})]})}),Object(er.jsx)("tbody",{children:d.map((function(t){return Object(er.jsxs)("tr",{children:[Object(er.jsx)("td",{children:t._id}),Object(er.jsx)("td",{children:t.name}),Object(er.jsxs)("td",{children:["$",t.price]}),Object(er.jsx)("td",{children:t.category}),Object(er.jsx)("td",{children:t.brand}),Object(er.jsxs)("td",{children:[Object(er.jsx)($t.b,{to:"/admin/product/".concat(t._id,"/edit"),children:Object(er.jsx)(Zt.a,{variant:"light",className:"btn-sm",children:Object(er.jsx)("i",{className:"fas fa-edit "})})}),Object(er.jsx)(Zt.a,{variant:"danger",className:"btn-sm",onClick:function(){return r=t._id,void(window.confirm("Are you sure")&&uc(e,r));var r},children:Object(er.jsx)("i",{className:"fas fa-trash"})})]})]},t._id)}))})]}),Object(er.jsx)(qr,{pages:j,page:l,isAdmin:b})]})]})},gc=r(42),vc=r(104),_c={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_API,authDomain:"shop-4cbc9.firebaseapp.com",projectId:"shop-4cbc9",storageBucket:"shop-4cbc9.appspot.com",messagingSenderId:"354028742753",appId:"1:354028742753:web:1212e6c43516bf980a2220"},yc=Object(vc.a)(_c),Ic=function(){var e=Object(Jt.g)().id,t=Object(c.useState)(""),r=Object(Vt.a)(t,2),n=r[0],a=r[1],i=Object(c.useState)(0),o=Object(Vt.a)(i,2),d=o[0],l=o[1],j=Object(c.useState)(""),u=Object(Vt.a)(j,2),b=u[0],p=u[1],h=Object(c.useState)(""),O=Object(Vt.a)(h,2),x=O[0],m=O[1],f=Object(c.useState)(""),g=Object(Vt.a)(f,2),v=g[0],_=g[1],y=Object(c.useState)(""),I=Object(Vt.a)(y,2),S=I[0],k=I[1],C=Object(c.useState)(0),N=Object(Vt.a)(C,2),w=N[0],P=N[1],L=Object(s.b)(),A=Object(Jt.f)(),E=Object(s.c)((function(e){return e.singleProduct})),D=E.loading,q=E.error,G=E.product,T=Object(s.c)((function(e){return e.updateProduct})),F=T.loading,B=T.error,U=T.success;Object(c.useEffect)((function(){U?(L(It()),A(-1)):G.name&&G._id===e?(a(G.name),l(G.price),p(G.image),m(G.description),_(G.category),k(G.brand),P(G.countInStock)):yr(L,e)}),[G,L,A,e,U]);var R=function(){var e=Object(nr.a)(cr.a.mark((function e(t){var r,c,n,a,s;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(""),r=t.target.files[0],c=(new Date).getTime()+r.name,n=Object(gc.b)(yc),a=Object(gc.c)(n,c),(s=Object(gc.d)(a,r)).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(function(e){}),(function(){Object(gc.a)(s.snapshot.ref).then((function(e){console.log(e),p(e)}))}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(er.jsxs)(er.Fragment,{children:[Object(er.jsx)($t.b,{to:"/admin/productlist",className:"btn btn-light my-3",children:"Go Back"}),Object(er.jsxs)($r,{children:[Object(er.jsx)("h1",{children:"Edit Product"}),F&&Object(er.jsx)(Cr,{}),B&&Object(er.jsx)(Pr,{variant:"danger",children:B}),D?Object(er.jsx)(Cr,{}):q?Object(er.jsx)(Pr,{variant:"danger",children:q}):Object(er.jsxs)(Xt.a,{onSubmit:function(t){t.preventDefault(),pc(L,e,{name:n,price:d,description:x,image:b,brand:S,category:v,countInStock:w})},children:[Object(er.jsxs)(Xt.a.Group,{controlId:"name",children:[Object(er.jsx)(Xt.a.Label,{children:"Name"}),Object(er.jsx)(Xt.a.Control,{type:"name",placeholder:"Enter name",value:n,onChange:function(e){return a(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"email",children:[Object(er.jsx)(Xt.a.Label,{children:"Price"}),Object(er.jsx)(Xt.a.Control,{type:"number",placeholder:"Enter Price",value:d,onChange:function(e){return l(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"image",children:[Object(er.jsx)(Xt.a.Label,{children:"Image"}),Object(er.jsx)(Xt.a.Control,{type:"text",placeholder:"Enter Image Url",value:b,onChange:function(e){return p(e.target.value)}}),Object(er.jsx)(Xt.a.Control,{type:"file",label:"Chose File",onChange:R})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"brand",children:[Object(er.jsx)(Xt.a.Label,{children:"Brand"}),Object(er.jsx)(Xt.a.Control,{type:"text",placeholder:"Enter Brand Name",value:S,onChange:function(e){return k(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"category",children:[Object(er.jsx)(Xt.a.Label,{children:"Category"}),Object(er.jsx)(Xt.a.Control,{type:"text",placeholder:"Enter Category",value:v,onChange:function(e){return _(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"count",children:[Object(er.jsx)(Xt.a.Label,{children:"Count In Stock"}),Object(er.jsx)(Xt.a.Control,{type:"number",placeholder:"Enter Count In Stock",value:w,onChange:function(e){return P(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"description",children:[Object(er.jsx)(Xt.a.Label,{children:"Description"}),Object(er.jsx)(Xt.a.Control,{type:"text",placeholder:"Enter Description",value:x,onChange:function(e){return m(e.target.value)}})]}),Object(er.jsx)(Zt.a,{type:"submit",variant:"primary",className:"mt-3",children:"Update"})]})]})]})},Sc=function(){var e=Object(s.b)(),t=Object(Jt.f)(),r=Object(s.c)((function(e){return e.getOrders})),n=r.loading,a=r.error,i=r.orders,o=Object(s.c)((function(e){return e.deliverOrders})),d=o.loading,l=o.error,j=Object(s.c)((function(e){return e.userLogin})).userInfo;Object(c.useEffect)((function(){j&&j.isAdmin?hc(e):t("/login")}),[e,j,t]);return Object(er.jsxs)(er.Fragment,{children:[Object(er.jsx)("h1",{children:"Orders"}),d&&Object(er.jsx)(Cr,{}),l&&Object(er.jsx)(Pr,{variant:"danger",children:l}),n?Object(er.jsx)(Cr,{}):a?Object(er.jsx)(Pr,{variant:"danger",children:a}):Object(er.jsxs)(Hr.a,{striped:!0,bordered:!0,responsive:!0,children:[Object(er.jsx)("thead",{children:Object(er.jsxs)("tr",{children:[Object(er.jsx)("th",{children:"ID"}),Object(er.jsx)("th",{children:"User ID"}),Object(er.jsx)("th",{children:"User Name"}),Object(er.jsx)("th",{children:"Products And Qty"}),Object(er.jsx)("th",{children:"Shipping Address"}),Object(er.jsx)("th",{children:"Total Price"}),Object(er.jsx)("th",{children:"Delivered"}),Object(er.jsx)("th",{children:"Paid"}),Object(er.jsx)("th",{children:"Action"})]})}),Object(er.jsx)("tbody",{children:i.map((function(t){return Object(er.jsxs)("tr",{children:[Object(er.jsx)("td",{children:t._id}),Object(er.jsx)("td",{children:t.user._id}),Object(er.jsx)("td",{children:t.user.name}),Object(er.jsx)("td",{children:t.orderItems.map((function(e){return Object(er.jsxs)("p",{children:[e.name,"(",e.qty,")"]},e._id)}))}),Object(er.jsxs)("td",{children:[t.shippingAddress.address,",",t.shippingAddress.city,",",t.shippingAddress.postalCode,",",t.shippingAddress.country]}),Object(er.jsx)("td",{children:t.totalPrice}),Object(er.jsx)("td",{children:t.isDelivered?t.isDeliveredAt.substring(0,10):Object(er.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(er.jsx)("td",{children:t.isPaid?t.paidtAt.substring(0,10):Object(er.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(er.jsx)("td",{children:Object(er.jsx)(Zt.a,{variant:"danger",className:"btn-sm",disabled:t.isDelivered,style:{backgroundColor:"#15aabf"},onClick:function(){return r=t._id,void Oc(e,r);var r},children:Object(er.jsx)("i",{className:"fas fa-shipping-fast"})})})]},t._id)}))})]})]})},kc=function(){var e=Object(c.useState)(""),t=Object(Vt.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)(0),i=Object(Vt.a)(a,2),o=i[0],d=i[1],l=Object(c.useState)(""),j=Object(Vt.a)(l,2),u=j[0],b=j[1],p=Object(c.useState)(""),h=Object(Vt.a)(p,2),O=h[0],x=h[1],m=Object(c.useState)(""),f=Object(Vt.a)(m,2),g=f[0],v=f[1],_=Object(c.useState)(""),y=Object(Vt.a)(_,2),I=y[0],S=y[1],k=Object(c.useState)(0),C=Object(Vt.a)(k,2),N=C[0],w=C[1],P=Object(s.b)(),L=Object(Jt.f)(),A=Object(s.c)((function(e){return e.userLogin})).userInfo,E=!!A&&(!!A.isAdmin&&A.isAdmin),D=Object(s.c)((function(e){return e.createProduct})),q=D.loading,G=D.error,T=D.success;Object(c.useEffect)((function(){T?(L("/admin/productlist"),P(ft())):E||L("/")}),[L,T,E,P]);var F=function(){var e=Object(nr.a)(cr.a.mark((function e(t){var r,c,n,a,s;return cr.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(""),r=t.target.files[0],c=(new Date).getTime()+r.name,n=Object(gc.b)(yc),a=Object(gc.c)(n,c),(s=Object(gc.d)(a,r)).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(function(e){}),(function(){Object(gc.a)(s.snapshot.ref).then((function(e){console.log(e),b(e)}))}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(er.jsxs)(er.Fragment,{children:[Object(er.jsx)($t.b,{to:"/admin/productlist",className:"btn btn-light my-3",children:"Go Back"}),Object(er.jsxs)($r,{children:[Object(er.jsx)("h1",{children:"Create Product"}),q?Object(er.jsx)(Cr,{}):G&&Object(er.jsx)(Pr,{variant:"danger",children:G}),Object(er.jsxs)(Xt.a,{onSubmit:function(e){e.preventDefault(),bc(P,{name:r,price:o,description:O,image:u,brand:I,category:g,countInStock:N})},children:[Object(er.jsxs)(Xt.a.Group,{controlId:"name",children:[Object(er.jsx)(Xt.a.Label,{children:"Name"}),Object(er.jsx)(Xt.a.Control,{type:"name",placeholder:"Enter name",value:r,onChange:function(e){return n(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"email",children:[Object(er.jsx)(Xt.a.Label,{children:"Price"}),Object(er.jsx)(Xt.a.Control,{type:"number",placeholder:"Enter Price",value:o,onChange:function(e){return d(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"image",children:[Object(er.jsx)(Xt.a.Label,{children:"Image"}),Object(er.jsx)(Xt.a.Control,{type:"text",placeholder:"Enter Image Url",value:u,onChange:function(e){return b(e.target.value)}}),Object(er.jsx)(Xt.a.Control,{type:"file",label:"Chose File",onChange:F})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"brand",children:[Object(er.jsx)(Xt.a.Label,{children:"Brand"}),Object(er.jsx)(Xt.a.Control,{type:"text",placeholder:"Enter Brand Name",value:I,onChange:function(e){return S(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"category",children:[Object(er.jsx)(Xt.a.Label,{children:"Category"}),Object(er.jsx)(Xt.a.Control,{type:"text",placeholder:"Enter Category",value:g,onChange:function(e){return v(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"count",children:[Object(er.jsx)(Xt.a.Label,{children:"Count In Stock"}),Object(er.jsx)(Xt.a.Control,{type:"number",placeholder:"Enter Count In Stock",value:N,onChange:function(e){return w(e.target.value)}})]}),Object(er.jsxs)(Xt.a.Group,{controlId:"description",children:[Object(er.jsx)(Xt.a.Label,{children:"Description"}),Object(er.jsx)(Xt.a.Control,{type:"text",placeholder:"Enter Description",value:O,onChange:function(e){return x(e.target.value)}})]}),Object(er.jsx)(Zt.a,{type:"submit",variant:"primary",className:"mt-3",children:"Create"})]})]})]})};var Cc=function(){return Object(er.jsxs)($t.a,{children:[Object(er.jsx)(ur,{}),Object(er.jsx)("main",{className:"py-3",children:Object(er.jsx)(zt.a,{children:Object(er.jsxs)(Jt.c,{children:[Object(er.jsx)(Jt.a,{path:"/orders/:id",element:Object(er.jsx)(oc,{})}),Object(er.jsx)(Jt.a,{path:"/placeorder",element:Object(er.jsx)(ac,{})}),Object(er.jsx)(Jt.a,{path:"/payment",element:Object(er.jsx)(cc,{})}),Object(er.jsx)(Jt.a,{path:"/shipping",element:Object(er.jsx)(rc,{})}),Object(er.jsx)(Jt.a,{path:"/login",element:Object(er.jsx)(Jr,{})}),Object(er.jsx)(Jt.a,{path:"/register",element:Object(er.jsx)(Wr,{})}),Object(er.jsx)(Jt.a,{path:"/profile",element:Object(er.jsx)(Xr,{})}),Object(er.jsx)(Jt.a,{path:"/product/:id",element:Object(er.jsx)(Rr,{})}),Object(er.jsx)(Jt.a,{path:"/cart",element:Object(er.jsx)(zr,{})}),Object(er.jsx)(Jt.a,{path:"/cart/:id",element:Object(er.jsx)(zr,{})}),Object(er.jsx)(Jt.a,{path:"/admin/userlist",element:Object(er.jsx)(xc,{})}),Object(er.jsx)(Jt.a,{path:"/admin/user/:id/edit",element:Object(er.jsx)(mc,{})}),Object(er.jsx)(Jt.a,{path:"/admin/createproduct",element:Object(er.jsx)(kc,{}),exact:!0}),Object(er.jsx)(Jt.a,{path:"/admin/productlist/:pageNumber",exact:!0,element:Object(er.jsx)(fc,{})}),Object(er.jsx)(Jt.a,{path:"/admin/productlist",exact:!0,element:Object(er.jsx)(fc,{})}),Object(er.jsx)(Jt.a,{path:"/admin/product/:id/edit",element:Object(er.jsx)(Ic,{})}),Object(er.jsx)(Jt.a,{path:"/admin/orderlist",element:Object(er.jsx)(Sc,{}),exact:!0}),Object(er.jsx)(Jt.a,{path:"/search/:keyword/page/:pageNumber",element:Object(er.jsx)(Br,{})}),Object(er.jsx)(Jt.a,{path:"/search/:keyword",element:Object(er.jsx)(Br,{}),exact:!0}),Object(er.jsx)(Jt.a,{path:"/page/:pageNumber",element:Object(er.jsx)(Br,{})}),Object(er.jsx)(Jt.a,{path:"/",element:Object(er.jsx)(Br,{}),exact:!0})]})})}),Object(er.jsx)(hr,{})]})};a.a.render(Object(er.jsx)(s.a,{store:Mt,children:Object(er.jsx)(Cc,{})}),document.getElementById("root"))},45:function(e,t,r){e.exports={stepsLink:"CheckoutSteps_stepsLink__29Mza",stepsLinkDisable:"CheckoutSteps_stepsLinkDisable__2Q3mf"}},54:function(e,t,r){e.exports={link:"Header_link__2F9zT",profileLink:"Header_profileLink__1U6Oq"}},68:function(e,t,r){e.exports={pageItem:"Paginate_pageItem__33gLz",pageItemActive:"Paginate_pageItemActive__2RT2O",pageNumLink:"Paginate_pageNumLink__1cM9m",pageNumLinkActive:"Paginate_pageNumLinkActive__1Ew0V"}}},[[140,1,2]]]);
//# sourceMappingURL=main.020d584a.chunk.js.map